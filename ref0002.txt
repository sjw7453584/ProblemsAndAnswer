

问题描述：

能进入ubuntu图形界面，并且在登录界面输入正确的密码后，系统闪一下进入黑屏，然后快速进入一串命令行，然后又进入登录界面要求输入密码。如此不断循环登录，却始终无法登入桌面。

解决方案：

在网上看了很多说法有：

1、环境变量问题，进入tty1 或者 tty2 然后 sudo vim profile 或者 environment，将 环境变量还原即可。但我的问题并非出于此。

2、初始化文件问题：删除.Xauthority ， Xinit 等初始文件 并重启。我的问题也不在于此。

3、/home权限问题：直接将/home  chmod 成 777的权限。不过我的还是无效。

4、/tmp权限问题：我的问题就在于此，首选还是那句话，学会找到日志文件，学会分析日志文件，cd 到 /home/user 里面，然后你会发现一个 启动X组件相关的日志文件：

.xsession-errors文件，打开这个文件发现有以下错误： mkdtemp: private socket dir: Permission denied，可以知道在读写/tmp文件时 遇到权限问题而读写失败，所以 直接chmod 777 /tmp 后 然后 重启 就能进入桌面系统了。

总结：

觉得最可能的问题还是权限的问题，例如/home/user里面各种文件的 所属者 与 所属组 是否时相应的用户和组，并且相应权限是否足够的问题。/tmp也可类比/home的情况。特别时/home/user里的权限问题 和  所属问题时 最容易导致循环登录的情况了。
